---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import { stacks } from "../data/stacks.js";
import Projects from "../components/Projects.astro";
import { projects } from "../data/projects.js";

// split the stacks into two
let firstStacks = stacks.slice(0, 10);
let secondStacks = stacks.slice(10);
---

<Layout title="Barra Ihsan">
  <Navbar />
  <main class="container mx-auto mt-40 md:mt-72 2xl:mt-[30rem] px-5 sm:px-12">
    <div class="flex flex-col gap-10 relative">
      <div class="font-extrabold">
        <h1 class="text-4xl font-extrabold md:text-6xl 2xl:text-8xl">Hello!</h1>
        <h1 class="text-[2.5rem] font-extrabold md:text-7xl 2xl:text-9xl">
          I'm Barra ðŸ‘‹
        </h1>
      </div>

      <p class="text-base md:text-3xl 2xl:text-4xl md:mt-5">
        I'm a Front-End developer, currently interested at making useful website
        and CLI tools using Rust.
      </p>

      <!-- Mesh Gradient Background-->
      <div
        class="absolute left-[-15%] top-[-30%] h-[60%] w-1/3 rounded-full bg-indigo-500/20 blur-3xl pointer-events-none"
      >
      </div>
      <div
        class="absolute left-[10%] top-[-30%] h-[150%] w-1/3 rounded-full bg-indigo-500/20 blur-3xl pointer-events-none"
      >
      </div>
    </div>
  </main>
  <section class="container mx-auto px-5 sm:px-12 mt-32 md:mt-52 2xl:mt-64">
    <h2 class="text-2xl md:text-5xl font-bold">Featured Projects</h2>
    {
      projects
        .filter((project) => project.featured)
        .map((project) => <Projects project={project} />)
    }
    <div class="flex justify-end mt-5 md:mt-12 project">
      <a
        href="/projects"
        class="group relative flex justify-center items-center gap-3 md:gap-5 rounded-2xl border border-gray-600 py-3 md:py-5 px-5 md:px-8 overflow-hidden transition-colors duration-300 hover:bg-gray-800"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-4 md:size-6 absolute -left-full transition-[left] duration-300 group-hover:left-4 md:group-hover:left-8"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path>
        </svg>
        <p
          class="md:text-xl transition-transform duration-300 group-hover:translate-x-7 md:group-hover:translate-x-12"
        >
          See all projects
        </p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-4 md:size-6 transition-transform duration-300 group-hover:translate-x-12 md:group-hover:translate-x-24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path>
        </svg>
      </a>
    </div>
  </section>
  <section class="container mx-auto px-5 sm:px-12 mt-24 md:mt-52">
    <h2 class="text-2xl md:text-5xl font-bold">Tech Stacks</h2>
    <div
      class="[--gap:1.5rem] py-4 overflow-hidden motion-safe:[mask:linear-gradient(90deg,transparent,white_20%,white_80%,transparent)] mt-4 md:mt-8"
    >
      <ul
        class="flex gap-[--gap] text-lg xl:text-2xl motion-safe:w-max motion-reduce:flex-wrap motion-safe:animate-scroll hover:[animation-play-state:paused]"
      >
        {
          firstStacks
            .concat(firstStacks)
            .map(({ Icon, name }, index) => (
            <li class=`flex gap-4 items-center ${index >= 10 && "motion-reduce:hidden"}`>
                <Icon class="size-6 xl:size-10" />
                <span>{name}</span>
              </li>
            ))
        }
      </ul>
    </div>
    <div
      class="[--gap:1.5rem] [--duration:20s] [--direction:reverse] py-4 overflow-hidden motion-safe:[mask:linear-gradient(90deg,transparent,white_20%,white_80%,transparent)] md:mt-5"
    >
      <ul
        class="flex gap-[--gap] text-lg xl:text-2xl motion-safe:w-max motion-reduce:flex-wrap motion-safe:animate-scroll hover:[animation-play-state:paused]"
      >
        {
          secondStacks
            .concat(secondStacks)
            .map(({ Icon, name }, index) => (
            <li class=`flex gap-4 items-center ${index >= secondStacks.length && "motion-reduce:hidden"}`>
                <Icon class="size-6 xl:size-10" />
                <span>{name}</span>
              </li>
            ))
        }
      </ul>
    </div>
  </section>
  <section class="container mx-auto px-5 sm:px-12 mt-24 md:mt-52">
    <h2 class="text-2xl md:text-5xl font-bold">Wanna collaborate?</h2>
  </section>
  <Footer />
</Layout>
