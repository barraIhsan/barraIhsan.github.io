---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import { Github, X as Twitter } from "simple-icons-astro";
import { stacks } from "../data/stacks.js";
import { projects } from "../data/projects.js";
---

<Layout title="Barra Ihsan">
  <Navbar />
  <main class="container mx-auto mt-24 md:mt-48 2xl:mt-80 px-5 sm:px-12">
    <div class="flex flex-col gap-10 relative">
      <div class="font-extrabold">
        <h1 class="text-4xl font-extrabold md:text-6xl 2xl:text-8xl">Hello!</h1>
        <h1 class="text-[2.5rem] font-extrabold md:text-7xl 2xl:text-9xl">
          I'm Barra ðŸ‘‹
        </h1>
      </div>

      <p class="text-base md:text-3xl 2xl:text-4xl md:mt-5">
        I'm a Front-End developer, currently interested at making useful website
        and CLI tools using Rust.
      </p>

      <div class="flex gap-4 md:gap-8">
        <a href="https://github.com/barraIhsan" target="_blank">
          <Github
            class="size-7 fill-gray-50 transition-colors hover:fill-gray-300 md:size-12"
          />
        </a>

        <a href="https://twitter.com/barrsan_" target="_blank">
          <Twitter
            class="size-7 fill-gray-50 transition-colors hover:fill-gray-300 md:size-12"
          />
        </a>
      </div>

      <!-- Mesh Gradient Background-->
      <div
        class="absolute left-[-15%] top-[-30%] h-[60%] w-1/3 rounded-full bg-indigo-500/20 blur-3xl pointer-events-none"
      >
      </div>
      <div
        class="absolute left-[10%] top-[-30%] h-[150%] w-1/3 rounded-full bg-indigo-500/20 blur-3xl pointer-events-none"
      >
      </div>
    </div>
  </main>
  <section class="container mx-auto px-5 sm:px-12 mt-32 md:mt-52">
    <h2 class="text-2xl md:text-5xl font-bold">Featured Projects</h2>
    {
      projects
        .filter((project) => project.featured)
        .map(({ title, desc, link, stacks }) => (
          <div class="mt-5 md:mt-12 w-full aspect-video border border-gray-600 rounded-2xl p-5 md:p-8 relative overflow-hidden group">
            <a
              href={link}
              target="_blank"
              class="flex flex-col h-full justify-end gap-2 lg:gap-5"
            >
              <p class="hidden sm:block text-xl md:text-2xl lg:text-3xl z-10">
                {title}
              </p>
              <p class="hidden sm:block text-base md:text-lg lg:text-xl z-10">
                {desc}
              </p>
              <div class="hidden sm:flex flex-wrap gap-2 lg:gap-3 z-10 mt-2 text-sm lg:text-lg">
                {stacks.map(({ Icon, name }) => (
                  <div class="p-1.5 lg:p-2 border border-gray-500 rounded-xl flex items-center gap-2 w-fit">
                    <Icon class="size-4 lg:size-6" />
                    <span>{name}</span>
                  </div>
                ))}
              </div>
              <img
                src={"/img/" + title.toLowerCase() + ".png"}
                class="absolute inset-0 bg-black size-full object-cover sm:group-hover:scale-110 transition-transform duration-300 brightness-75 sm:brightness-100 sm:mask-image-gradient-to-t from-transparent to-transparent/60 to-70%"
              />
            </a>
          </div>
          <p class="block sm:hidden text-xl mt-5">
            {title}
          </p>
          <p class="block sm:hidden text-sm mt-2">
            {desc}
          </p>
          <div class="sm:hidden flex flex-wrap gap-2 text-xs mt-5">
            {stacks.map(({ Icon, name }) => (
              <div class="p-1.5 border border-gray-500 rounded-xl flex items-center gap-2 w-fit">
                <Icon class="size-4" />
                <span>{name}</span>
              </div>
            ))}
          </div>
        ))
    }
  </section>
  <section class="container mx-auto px-5 sm:px-12 mt-24 md:mt-52">
    <h2 class="text-2xl md:text-5xl font-bold">Tech Stacks</h2>
    <div
      class="[--gap:1.5rem] py-4 overflow-hidden [mask:linear-gradient(90deg,transparent,white_20%,white_80%,transparent)] motion-reduce:[mask:none] mt-4 md:mt-8"
    >
      <ul
        class="flex gap-[--gap] text-lg xl:text-2xl w-max motion-reduce:flex-wrap animate-scroll hover:[animation-play-state:paused] motion-reduce:animate-none"
      >
        {
          stacks
            .slice(0, 12)
            .concat(stacks.slice(0, 12))
            .map(({ Icon, name }) => (
              <li class="flex gap-4 items-center">
                <Icon class="size-6 xl:size-10" />
                <span>{name}</span>
              </li>
            ))
        }
      </ul>
    </div>
    <div
      class="[--gap:1.5rem] [--duration:20s] [--direction:reverse] py-4 overflow-hidden [mask:linear-gradient(90deg,transparent,white_20%,white_80%,transparent)] motion-reduce:[mask:none] md:mt-5"
    >
      <ul
        class="flex gap-[--gap] text-lg xl:text-2xl w-max motion-reduce:flex-wrap animate-scroll hover:[animation-play-state:paused] motion-reduce:animate-none"
      >
        {
          stacks
            .slice(11)
            .concat(stacks.slice(11))
            .map(({ Icon, name }) => (
              <li class="flex gap-4 items-center">
                <Icon class="size-6 xl:size-10" />
                <span>{name}</span>
              </li>
            ))
        }
      </ul>
    </div>
  </section>
  <Footer />
</Layout>
